# üîÑ –ö–∞–∫ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î (–µ—Å–ª–∏ –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê

–ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Å—Ç–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –ë–î –∏–º–µ–µ—Ç **–ø—Ä–æ–±–ª–µ–º—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏**.

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- SQLite –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –≤ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- –°—Ç–∞—Ä–∞—è –ë–î –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –±–µ–∑ `ON DELETE CASCADE`
- –î–∞–∂–µ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞, —Å—Ç–∞—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã –æ—Å—Ç–∞—é—Ç—Å—è —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –®–∞–≥ 1: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
# –ù–∞–∂–º–∏—Ç–µ Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≥–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä
```

### –®–∞–≥ 2: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ë–î

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
python app/database/reset_db.py
```

**–í—ã–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Ö–æ–∂ –Ω–∞:**

```
============================================================
üîÑ RESETTING DATABASE
============================================================

üóëÔ∏è  Dropping all existing tables...
‚úÖ Creating all tables with constraints...
üë• Creating default users...
  ‚úÖ Created user: chefNum1 (chef)
  ‚úÖ Created user: waiterNum1 (waiter)
  ‚úÖ Created user: adminNum1 (admin)

üçΩÔ∏è  Creating default restaurant tables...
  ‚úÖ Created table: 1
  ‚úÖ Created table: 2
  ‚úÖ Created table: 3
  ‚úÖ Created table: 4
  ‚úÖ Created table: 5

üçΩÔ∏è  Creating default menu items...
  ‚úÖ Created menu item: –ë–æ—Ä—â
  ‚úÖ Created menu item: –ú—è—Å–Ω–æ–π —Å—Ç–µ–π–∫
  ‚úÖ Created menu item: –°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å
  ‚úÖ Created menu item: –ö–æ–º–ø–æ—Ç
  ‚úÖ Created menu item: –ß–∏–∑–∫–µ–π–∫

============================================================
‚úÖ DATABASE RESET COMPLETE!
============================================================

üîë Default users:
   –ü–æ–≤–∞—Ä: chefNum1 / chef123
   –û—Ñ–∏—Ü–∏–∞–Ω—Ç: waiterNum1 / waiter123
   –ê–¥–º–∏–Ω: adminNum1 / admin123
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å–Ω–æ–≤–∞
python main.py
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä

- **Ctrl+Shift+R** (–∂—ë—Å—Ç–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

---

## üéâ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
- ‚úÖ **–£–¥–∞–ª—è—Ç—å –ª—é–±—ã–µ –±–ª—é–¥–∞** –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- ‚úÖ **–£–¥–∞–ª—è—Ç—å –ª—é–±—ã–µ —Å—Ç–æ–ª–∏–∫–∏** –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç (–∑–∞–∫–∞–∑—ã —É–¥–∞–ª—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ **–£–¥–∞–ª—è—Ç—å –∑–∞–∫–∞–∑—ã** –ø–æ–≤–∞—Ä—É –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

---

## üìã –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏

| –£–¥–∞–ª—è–µ—Ç–µ | –ß—Ç–æ —Å–ª—É—á–∏—Ç—Å—è | –°—Ç–∞—Ç—É—Å |
|----------|-------------|--------|
| **–ë–ª—é–¥–æ** | –ë–ª—é–¥–æ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –º–µ–Ω—é | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **–°—Ç–æ–ª** | –í—Å–µ –∑–∞–∫–∞–∑—ã –Ω–∞ —ç—Ç–æ–º —Å—Ç–æ–ª–µ —É–¥–∞–ª—è—é—Ç—Å—è, –∑–∞—Ç–µ–º —Å—Ç–æ–ª —É–¥–∞–ª—è–µ—Ç—Å—è | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **–ó–∞–∫–∞–∑** | –ó–∞–∫–∞–∑ —É–¥–∞–ª—è–µ—Ç—Å—è, —Å—Ç–æ–ª –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–≤–æ–±–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

–°–∫—Ä–∏–ø—Ç `reset_db.py` –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

1. **–í–∫–ª—é—á–∞–µ—Ç PRAGMA foreign_keys=ON** –¥–ª—è SQLite
2. **–£–¥–∞–ª—è–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã**
3. **–ü–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏:
   ```sql
   -- –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
   table_id = ForeignKey("restaurant_tables.id")
   
   -- –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
   table_id = ForeignKey("restaurant_tables.id", ondelete="CASCADE")
   ```
4. **–°–æ–∑–¥–∞—ë—Ç 5 —Å—Ç–æ–ª–∏–∫–æ–≤** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
5. **–°–æ–∑–¥–∞—ë—Ç 5 –±–ª—é–¥** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
6. **–°–æ–∑–¥–∞—ë—Ç 3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–ø–æ–≤–∞—Ä, –æ—Ñ–∏—Ü–∏–∞–Ω—Ç, –∞–¥–º–∏–Ω)

---

## ‚ö° –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –ë–î –∫–Ω–æ–ø–∫–∏ —Å–Ω–æ–≤–∞ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12 ‚Üí Console)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞** - —Ç–∞–º –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—à–∏–±–∫–∏
3. **–û—Ç–∫—Ä–æ–π—Ç–µ Issue** –Ω–∞ GitHub —Å —Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏, –í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π—Ç–µ `ondelete` –ø–∞—Ä–∞–º–µ—Ç—Ä:

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
order_id = Column(Integer, ForeignKey("orders.id", ondelete="CASCADE"), nullable=False)

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
order_id = Column(Integer, ForeignKey("orders.id"), nullable=False)
```
